
<div class="container" >
     <div class="row centered-form">
     	<!--
     	<div class="col-xs-12 col-sm-8 col-md-4 col-sm-offset-2 col-md-offset-4">
     	-->
        <div class="col-xs-10 col-sm-offset-1">
        	<div class="panel panel-default">
        				<div class="panel-heading">
        					<!--
        					<h3 class="panel-title"><i class="fa fa-circle-o-notch"></i>改善Create a Kaizen Account <small>Learn new skills</small></h3>
        					-->
			    		<h3 class="panel-title">Create EyeForWonder Account <small>Learn new skills</small></h3>
			 			</div>
			 			<div class="panel-body">
			 			<h5>Connecting you with locals to do fun stuff!</h5>
			 			<span><hr class="colorgraph"></span>
			 			<%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), :format => :json, data: { type: 'json' } ) do |f| %>
				  
				  			<%= render 'shared/devisemes' %>
			    		
			    			<div class="row">
			    				<div class="col-xs-7">
			    					<div class="input-group">
			    						
			    					<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
			    					<%= f.input :first_name, required: true,  autofocus: true, label: false, placeholder: 'First Name', class: 'form-control'  %>
			    					     
			    					</div>
			    				</div>
			    				<div class="col-xs-5">
			    				
			    					<div class="form-group">
			    					 <%= f.input :last_name, required: true, size:15, label: false, placeholder: 'Last Name', class: 'form-control' %>
			    					</div>
			    				</div>
			    			</div>

			    		
			    			<div class="input-group">
			    				
								<span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
				    			<%= f.email_field :email, required: true, label: false, placeholder: 'Email', class: 'form-control' %>
							</div>
							<br/>

			    			<div class="row">
			    				<div class="col-xs-7 ">

			    					<div class="input-group", id = 'pword', required data-toggle = "popover", data-content = "Enter Password...",  title="Password Strength", data-trigger="focus">
										<span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
				    					<%= f.password_field :password, required: true,  label: false, placeholder: 'Password', hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length), class: 'form-control' %>
				   					</div>

			    				</div>
			    				<div class="col-xs-5 ">
			    					<div class="form-group">
			    						<%= f.input :password_confirmation,  required: true,  label: false, placeholder: 'Confirm Password' %>
			    						
			    					</div>
			    				</div>
			    			</div>

			    			<p>By clicking  <strong class="label label-primary">Get Started</strong>, you agree to our <a href="#">Terms & Privacy</a>.</p>
				  
				  			<span><hr class="colorgraph"></span>

				    		<%= f.button :submit,  "Get Started", class: 'btn btn-primary btn-block', id: 'submitBtn' %>
			    					    	
			    		<% end %>
			    	</div>
	    	 </div>
    	 </div>
      </div>
 </div>

<script>
$(document).ready(function(){

//minimum 8 characters
var bad = /(?=.{8,}).*/;
//Alpha Numeric plus minimum 8
var good = /^(?=\S*?[a-z])(?=\S*?[0-9])\S{8,}$/;
//Must contain at least one upper case letter, one lower case letter and (one number OR one special char).
var better = /^(?=\S*?[A-Z])(?=\S*?[a-z])((?=\S*?[0-9])|(?=\S*?[^\w\*]))\S{8,}$/;
//Must contain at least one upper case letter, one lower case letter and (one number AND one special char).
var best = /^(?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9])(?=\S*?[^\w\*])\S{8,}$/;

var x = 0

$('#pword').on('keyup', function () {

    var pword = $(this);
    var pass = $(this).val();
    
   // var passLabel = $('[for="pword"]');
    var stength = 'Weak';
    var pclass = 'danger';
    if (best.test(pass) === true) {
        stength = 'Very Strong';
        pclass = 'success';
    } else if (better.test(pass) === true) {
        stength = 'Strong';
        pclass = 'warning';
    } else if (good.test(pass) === true) {
        stength = 'Almost Strong';
        pclass = 'warning';
    } else if (bad.test(pass) === true) {
        stength = 'Weak';
    } else { 	
        stength = 'Very Weak';
    }


  	 if (x > 6) {
    	pclass = "success";
   		stength = "Weak";
    } 
    if (x > 8) {
   		pclass = "success";
   		stength = "Strong";
   	}

  	x++

    var popover = pword.attr('data-content', stength).data('bs.popover');
   
    popover.setContent();
    popover.$tip.addClass(popover.options.placement).removeClass('danger success info warning primary').addClass(pclass);
    

});

$('[data-toggle="popover"]').popover({
    placement: 'left',
    trigger: 'focus'
});


});

</script>

<script>

	var btn = document.getElementById("submitBtn");

	btn.onclick = function() {
    	document.body.style.cursor = 'wait';
	}

</script>


